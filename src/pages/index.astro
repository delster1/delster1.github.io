---
import TerminalLayout from "../layouts/TerminalLayout.astro";

let quote = "Failed to load quote.";
try {
    const response = await fetch('https://minipc.d3llie.tech/quote');
    if (response.ok) {
        quote = await response.json();
    }
} catch (error) {
    console.error('Error fetching quote:', error);
}
---

<TerminalLayout title="d3llie terminal">
    <div class="text-green-400">
        <span class="text-yellow-300">d3llie@website</span>
        <span class="text-blue-400"> ~ </span>
        <span>$</span>
        &nbsp;./website-tui
    </div>

    <div class="flex justify-center items-center">
        <div box-="round" title="header" class="text-2xl" style="--box-bg: var(--bg1)">
            <h1 class="text-[100px] pl-6 pr-6 text-green-400"># Dellie's Website</h1>
        </div>
    </div>
    <br />
    <div class="flex justify-center items-center">
        <div box-="round" shear-="top" class="w-[50%]" style="--box-bg: var(--bg1)" >
            <div class="header">
                 <span is-="badge" variant-="yellow">About Me</span>
            </div>
            <div class="pl-3">
                Hey ðŸ‘‹ I'm Dellie â€” CS student, nerd, and HackKU Director.<br />
                Welcome to my personal terminal-style website powered by Astro + Tailwind.
            </div>
        </div>
    </div>
    <br />
    <div class="flex justify-center items-center w-[100%]">
        <div box-="round" shear-="top" id="" class="w-[90%]" style="--box-bg: var(--bg1)">
            <div class="header">
                 <span is-="badge" variant-="yellow">My Links</span>
            </div>
            <div class="mt-3 grid grid-cols-1 gap-6 sm:grid-cols-3" id="links-grid">
              <a href="https://github.com/delster1" box-="round" shear-="top" class="p-3 text-center block hover:no-underline" style="--box-bg: var(--bg1)">
                  <br>
                  github
              </a>

              <a href="https://www.linkedin.com/in/delroy-wright-440b35210/" box-="round" shear-="top" class="p-3 block text-center hover:no-underline" style="--box-bg: var(--bg1)">
                <div class="mt-2">
                    <br>
                    linkedin
                  <br>
                </div>
              </a>

              <div box-="round" shear-="top" id="see-more-btn" class="p-3 text-center cursor-pointer block hover:no-underline" style="--box-bg: var(--bg1)">
                  <br>
                <div class="mt-2">
                    see more...
                </div>
              </div>

              <!-- Hidden initially -->
              <a href="/blog" class="hidden-link hidden p-3 text-center block hover:no-underline" box-="round" shear-="top" style="--box-bg: var(--bg1)">
                <br>blog
              </a>
              <a href="#" class="hidden-link hidden p-3 text-center block hover:no-underline" box-="round" shear-="top" style="--box-bg: var(--bg1)">
                <br>projects
              </a>
              <a href="#" class="hidden-link hidden p-3 text-center block hover:no-underline" box-="round" shear-="top" style="--box-bg: var(--bg1)">
                <br>resume
              </a>
              <a href="#" class="hidden-link hidden p-3 text-center block hover:no-underline" box-="round" shear-="top" style="--box-bg: var(--bg1)">
                <br>contact
              </a>
              <a href="#" class="hidden-link hidden p-3 text-center block hover:no-underline" box-="round" shear-="top" style="--box-bg: var(--bg1)">
                <br>extra 1
              </a>
              <a href="#" class="hidden-link hidden p-3 text-center block hover:no-underline" box-="round" shear-="top" style="--box-bg: var(--bg1)">
                <br>extra 2
              </a>
            </div>
        </div>
    </div>

    <div is-="separator" direction-="horizontal"></div>
    <br />
    <div class="flex justify-center items-center w-[100%]">
        <div box-="round" shear-="top" class="w-[90%]" style="--box-bg: var(--bg1)">
            <div class="header">
                 <span is-="badge" variant-="yellow">Random Quote</span>
            </div>
            <div class="p-4 italic text-center text-blue-300" id="quote-container">
                {quote}
            </div>
        </div>
    </div>

    <script>
        const btn = document.getElementById('see-more-btn');
        const btnText = btn?.querySelector('.mt-2');
        const hiddenLinks = document.querySelectorAll('.hidden-link');
        
        btn?.addEventListener('click', () => {
            const isExpanded = !hiddenLinks[0].classList.contains('hidden');
            
            hiddenLinks.forEach(link => {
                link.classList.toggle('hidden');
            });

            if (btnText) {
                btnText.textContent = isExpanded ? 'see more...' : 'hide';
            }
        });
    </script>
    <div class="flex justify-center items-center mt-8">
        <a class="btn" href="/login">/login</a>
    </div>
</TerminalLayout>
